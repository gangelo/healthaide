<% content_for :title, "Select Foods" %>

<% if turbo_frame_request? && params[:frame_id] == "foods_list" %>
  <%= turbo_frame_tag "foods_list" do %>
    <div class="h-[300px] overflow-y-auto border border-gray-200 rounded-md">
      <%= render "user_foods/foods_list", foods: @foods %>
    </div>
  <% end %>
<% elsif turbo_frame_request? && params[:frame_id] == "modal" %>
  <%= render "multiple_foods_modal", foods: @foods %>
<% else %>
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10">
    <div class="md:flex md:items-center md:justify-between mb-6">
      <div class="min-w-0 flex-1">
        <h2 class="text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight">Select Foods</h2>
      </div>
      <div class="mt-4 flex md:ml-4 md:mt-0">
        <%= link_to "Back to My Foods", user_foods_path, 
            class: "inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" %>
      </div>
    </div>

    <%= render "multiple_foods_modal", foods: @foods %>
  </div>
<% end %>
